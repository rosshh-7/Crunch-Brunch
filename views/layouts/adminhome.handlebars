<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Everyday Brunch</title>
    <link rel="stylesheet" href="/public/css/backgrounds.css" />
    <link rel="stylesheet" href="/public/css/index.css" />
    <link rel="stylesheet" href="/public/css/buttons.css" />
    <link rel="stylesheet" href="/public/css/navigation.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick.min.css"/>
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick-theme.min.css"/>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
</head>
<body class="d-flex flex-column min-vh-100 yellow-section-background">

    
    <!-- Start of Navigation -->

    <div class="navigation-section">
        <nav class="navbar navbar-expand-lg navbar-dark black-section-background fixed-top brunch-nav">
            <div class="container">
                <a class="brunch-logo me-2" href="/admin/dashboard"><img src="/public/images/Everyday_Brunch.gif" class="rounded img-fluid" alt="Brunch Logo" /></a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="./dashboard">Dashboard</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Menu Options
                        </a>
                        
                         <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="./newMenu">Add Menu</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="./ViewMenu">View Menu</a></li>
                        </ul> 
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown1" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Category Options
                        </a>
                        
                         <ul class="dropdown-menu" aria-labelledby="navbarDropdown1">
                            <li><a class="dropdown-item" href="./addCategory">Add Category</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="./ViewCategory">View Category</a></li>
                            
                        </ul> 
                    </li>
                    
                    <li class="nav-item dropdown">
                    
                        <a class="nav-link dropdown-toggle" href="" id="navbarDropdown3" role="button" data-bs-toggle="dropdown" aria-expanded="false">

                            Advertisements Options
                        </a>
                        
                         <ul class="dropdown-menu" aria-labelledby="navbarDropdown3">
                            <li><a class="dropdown-item" href="./addAdd">Add Advertise</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="./viewAdvertise">View Advertise</a></li>
                            
                        </ul> 
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="" id="navbarDropdown4" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            Reviews
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown4">
                            <li><a class="dropdown-item" href="/admin/viewreview">View Reviews</a></li>
                            <li><hr class="dropdown-divider"></li>
                        </ul> 
                    </li>
                   
                    {{!-- <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                        Dropdown
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                        <li><a class="dropdown-item" href="#">Action</a></li>
                        <li><a class="dropdown-item" href="#">Another action</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" href="#">Something else here</a></li>
                    </ul>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link disabled" href="#" tabindex="-1" aria-disabled="true">Disabled</a>
                    </li> --}}
                </ul>
                   
               
                    
                <a class="btn btn-outline-primary logout-btn logout-link" href="/logout">logout</a>
                    
           </div>
            </div>
        </nav>
    </div>

    <!-- End of Navigation -->

    {{{body}}}

    <div class="footer-section black-section-background text-white mt-auto">
        <div class="container">
            <div class="d-flex justify-content-around pt-5 pb-5">
                <div><a class="main-label" href="/admin/ViewMenu">Menu</a></div>
                <div><a class="main-label" href="/admin/viewAdvertise">Advertisements</a></div>
                {{!-- <div><a class="main-label" href="/reviews">Reviews</a></div> --}}
                {{!-- <div><a class="main-label" href="/desserts">Desserts</a></div> --}}
            </div>
            <div class="d-flex justify-content-around pb-5">
                <div class="d-flex flex-column text-center"><i class="social-icon pb-2 fab fa-twitter"></i><a href="https://twitter.com/" class="social-label">Twitter</a></div>
                <div class="d-flex flex-column text-center"><i class="social-icon pb-2 fab fa-instagram"></i><a href="https://www.instagram.com/" class="social-label">Instagram</a></div>
                <div class="d-flex flex-column text-center"><i class="social-icon pb-2 fab fa-facebook"></i><a href="https://www.facebook.com/" class="social-label">Facebook</a></div>
                <div class="d-flex flex-column text-center"><i class="social-icon pb-2 fab fa-linkedin"></i><a href="https://www.linkedin.com/" class="social-label">LinkedIn</a></div>
            </div>
        </div>
    </div>
                 

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
    <script  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script  src="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.5.9/slick.min.js"></script>
    
    <script >
        $(document).ready(function(){

            $('.slider-nav').slick({
                slidesToShow: 3,
                slidesToScroll: 1,
                autoplay: false,
                autoplaySpeed: 2000,
                responsive: [
    {
      breakpoint: 1024,
      settings: {
        slidesToShow: 3,
        slidesToScroll: 3,
        infinite: true,
        dots: true
      }
    },
    {
      breakpoint: 600,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 2
      }
    },
    {
      breakpoint: 480,
      settings: {
        slidesToShow: 1,
        slidesToScroll: 1
      }
    }
    // You can unslick at a given breakpoint now by adding:
    // settings: "unslick"
    // instead of a settings object
  ]
            });

        ///////////////////////////counter code that should run everytime
 var requestConfig = {
					method: 'get',
					url: '/getCounter',

				};

                $.ajax(requestConfig).then(function(responseMessage) {
					if(responseMessage.success){
                        $('#counter').text(responseMessage.count)
                    }
					//                alert("Data Saved: " + msg);
				});


        });
    </script>
    {{!-- <script>
        function reduce(event){
            
            let element = event.currentTarget;
            let idd=element.id
            let newvalue;
           let currentvalue= $(`.${idd}`).val()
           if(currentvalue==1){
               newvalue=1
           }else {

            newvalue=currentvalue - 1
               $(`.${idd}`).val(newvalue)
               alert("new")
           }
                        var requestConfig = {
					method: 'POST',
					url: '/cart/update',
					contentType: 'application/json',
					data: JSON.stringify({
						updateid:idd,
						quantity: newvalue,
					})
				};

				$.ajax(requestConfig).then(function(responseMessage) {
                    console.log(responseMessage)
				if(responseMessage.success){
                    location.reload(true); // the value “true” ensures that the current page is fully loaded ignoring the “cache”.
                }else {
                    location.reload(true); // the value “true” ensures that the current page is fully loaded ignoring the “cache”.

                }
    //                    $('#counter').text(responseMessage.count)
  //                  } else {
//                        window.location.replace("http://localhost:3000/login?error=1");
                        
                    //}
					//                alert("Data Saved: " + msg);
				});
          
        }   
       
       function increase(event){
           
            let element = event.currentTarget;
            let idd=element.id
           let currentvalue= $(`.${idd}`).val()
           let newvalue=parseInt(currentvalue) + parseInt(1)

               $(`.${idd}`).val(newvalue)

                 var requestConfig = {
					method: 'POST',
					url: '/cart/update',
					contentType: 'application/json',
					data: JSON.stringify({
						updateid:idd,
						quantity: newvalue,
					})
				};

				$.ajax(requestConfig).then(function(responseMessage) {
                    //console.log(responseMessage)
				if(responseMessage.success){
                    location.reload(true); // the value “true” ensures that the current page is fully loaded ignoring the “cache”.
                } else{
                    location.reload(true); // the value “true” ensures that the current page is fully loaded ignoring the “cache”.
                }
        
           });
          
       }
        function AddToCart(event){
            event.preventDefault();
	        let element = event.currentTarget;
           
            let idd=element.id
            let quantity=$(`.${idd}`).val();
            let price=$(`#${idd}${idd}${idd}`).text()
            
            price=price.replace('$','')
            price=price.replace(' ','')
           
            var requestConfig = {
					method: 'POST',
					url: '/cart',
					contentType: 'application/json',
					data: JSON.stringify({
						itemId:idd,
						quantity: quantity,
                        price:price
					})
				};

				$.ajax(requestConfig).then(function(responseMessage) {
					if(responseMessage.success){

                        $('#counter').text(responseMessage.count)
                    } else {
                        
                        window.location.replace("http://localhost:3000/login?error=1");
                        
                    }
					//                alert("Data Saved: " + msg);
				});

        }
    </script> --}}
    {{!-- <script>
        function flip(event){
	        var element = event.currentTarget;
            if (element.className === "cardbox") {
                if(element.style.transform == "rotateY(180deg)") {
                    element.style.transform = "rotateY(0deg)";
                }
                else {
                    element.style.transform = "rotateY(180deg)";
                }
            }
                        
            var frontHeight = $('.mycard').outerHeight();
            var backHeight = $('.mycard1').outerHeight();

            if (frontHeight > backHeight) {
                $('.mycard1').height(frontHeight);
            }
            else if (frontHeight > backHeight) {
                $('.mycard').height(backHeight);
            }
        };
    </script> --}}
    {{!-- <script>
        function increment(event){
            //alert(77)
            let element = event.currentTarget;
            let idd=element.id
           // alert(idd)
           let currentvalue= $(`.${idd}`).val()
           let newvalue=parseInt(currentvalue) + parseInt(1)

               $(`.${idd}`).val(newvalue)
        }
         function decrement(event){
            
            let element = event.currentTarget;
            let idd=element.id
            let newvalue;
           let currentvalue= $(`.${idd}`).val()
           if(currentvalue==1){
               newvalue=1
           }else {

            newvalue=currentvalue - 1
              
             
           }
            $(`.${idd}`).val(newvalue)
         }
    </script>  --}}
    <script>
   var windowLoc = $(location).attr('pathname'); //jquery format to get window.location.pathname
    console.log(windowLoc)
    if(windowLoc=='/admin/getorders') {
          window.setInterval('refresh()', 15000); 	
    function refresh() {
        window .location.reload();
    }
    }
</script>
    
       
   

</body>
</html>
